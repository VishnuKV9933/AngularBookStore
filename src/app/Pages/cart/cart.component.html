<top-bar></top-bar>

<div
  style="background-color: #ebe8f8; padding-top : 10px;padding-bottom : 10px;"
  class="w-full h-[470px] flex justify-center py-10"
>
  <div style="width: 80%" class="bg-white rounded-3xl flex overflow-hidden">
    <div class="w-2/3 p-4">
      <div class="flex justify-center items-center">
        <div class="font-semibold text-5xl text-teal-900">My Cart</div>
      </div>

      <hr class="mx-5 mt-6 mb-6" />
      <div class="h-[350px] overflow-y-scroll">
        <ng-container *ngFor="let item of cartItems">
          <div class="flex">
            <div
              style="width: 40%"
              class="w-[50px] h-[100px] flex justify-start items-center"
            >
              <div>
                <img [src]="item.image" class="w-20 h-28 ml-3" alt="" [routerLink]="'/productdetails/' + item.isbn13"  />
                <div class="ml-6 text-amber-500">
                  {{ formatPrice(item.price) | currency : "INR" }}
                </div>
              </div>
              <div class="break-words w-28 text-teal-900 font-bold" [routerLink]="'/productdetails/' + item.isbn13" >
                {{ item.title | firstTwoWords }}
              </div>
            </div>
            <div
              style="width: 30%"
              class="w-[50px] h-[100px] flex justify-start items-center"
            >
              <div class="flex items-center">
                <button
                  class="px-4 py-2 rounded text-cyan-700"
                  (click)="quantityDecrement(item)"
                >
                  -
                </button>
                <span
                  class="mx-4 text-lg w-6 border rounded flex justify-center items-center text-stone-500"
                  >{{ item.quantity }}</span
                >
                <button
                  class="px-4 py-2 rounded text-cyan-700"
                  (click)="quantityIncrement(item)"
                >
                  +
                </button>
              </div>
            </div>
            <div
              style="width: 25%"
              class="h-[100px] flex flex-col justify-center items-center"
            >
              <div class="text-teal-900">Total Price</div>
              <div class="text-stone-500">
                {{ formatPrice(item.price) * item.quantity | currency : "INR" }}
              </div>
            </div>

            <div
              style="width: 5%"
              class="flex justify-start items-center h-[100px] text-stone-500 p-3 cursor-pointer"
              (click)="removeItem(item)"
            >
              x
            </div>
          </div>

          <hr class="mx-5 mt-6 mb-6" />
        </ng-container>
        <img *ngIf="!cartCount" src="../../../assets/empty-cart.gif" alt="" />
      </div>
    </div>

    <div class="w-1/3 bg-blue-400 p-3 flex justify-center">
      <div style="width: 60%" class="flex flex-col justify-center items-center">
        <div
          class="text-3xl font-medium flex w-full justify-center text-teal-900"
        >
          SUMMARY
        </div>
        <div class="bg-white h-auto mt-24 w-full p-2 border rounded">
          <div class="text-teal-900 font-medium">
            ITEMS:<span class="text-stone-500">{{ cartCount }}</span>
          </div>
          <div class="mt-3 text-teal-900 font-medium">
            GRAND TOTAL:<span class="text-stone-500">
              {{ grandTotal | currency : "INR" }}</span
            >
          </div>
        </div>
        <div
          class="flex mt-5 bg-green-500 rounded p-2 w-44 justify-center items-center cursor-pointer border text-white hover:bg-green-600"
        >
          CHECK OUT
        </div>
      </div>
    </div>
  </div>
</div>


